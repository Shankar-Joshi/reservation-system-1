create or replace procedure new_reservation 
(first_name_in customers.first%type,
    last_name_in customers.last%type,
    adults_in rooms.fits_no_adults%type,
    children_in rooms.fits_no_kids%type,
    arrival_in reservations.arrive_date%type,
    depart_in reservations.depart_date%type,
    city_in locations.city%type,
    card_number_in customers.card_no%type,
    card_company_name_in customers.card_type%type,
    submit_button_in varchar2) as
begin 
htp.print('<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>New Reservations Created</title>
</head>
<body>
<div align="center"><p><h2>Reservations</h2>
<br />
<!-- Navigation Bar Links -->
<a href="Create_New_Reservation">Homepage</a><br>
<hr /></div>
<br> <!-- Start Page Content -->
');
insert into customers(first, last, card_no, card_type) values(first_name_in, last_name_in,card_number_in, card_company_name_in);
insert into rooms(fits_no_adults, fits_no_kids) values(adults_in, children_in); 
insert into reservations(arrive_date, depart_date) values(arrival_in, depart_in);
insert into locations(city) values(city_in);
commit;
htp.print('
<div allign="center">
<table border="0" cellpadding="1" cellspacing="1" summary="">
<tr><td><b>Your Club</b></td></tr>
<tr></tr>
<tr><td>Full Name:</td><td>'||first_name_in||last_name_in||'</td></tr>
<tr><td>Arrival Date:</td><td>'||arrival_in||'</td></tr>
<tr><td>Depart Date:</td><td>'||depart_in||'</td></tr>
<tr><td>City:</td><td>'||city_in||'</td></tr>
</table>
');
htp.prn('<!-- End Page Content -->
</body>
</html>
');
exception
when others then
htp.prn(sqlerrm);
end;
